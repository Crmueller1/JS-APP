let pokemonRepository=function(){let e=[],a=document.getElementById("pokemon-search");function b(a){"object"==typeof a&&"name"in a&&"detailsUrl"in a?e.push(a):console.log("Must be object - did not add")}function c(){return e}function d(a){pokemonRepository.loadDetails(a).then(function(){f(a)})}function f(a){let c=$(".modal-body"),d=$(".modal-title"),b=$(".modal-footer");c.empty(),d.empty(),b.empty();let f=$("<h1>"+a.name+"</h1>"),g=$("<p>Height: "+a.height+"</p>"),h=$("<p>Weight: "+a.weight+"</p>"),i=$("<p>Type: "+a.types+"</p>"),e=$('<img class="mw-100 img-fluid pokemon-img">');e.attr("src",a.imageUrl),d.append(f),b.append(g),b.append(h),b.append(i),c.append(e)}return a.addEventListener("input",function(){let a=document.getElementById("pokemon-search").value;a=a.toLowerCase();let b=$("li");b.each(function(){let b=$(this),c=b.text();c.includes(a)?b.show():b.hide()})}),{add:b,getAll:c,addListItem:function(e){let b=document.querySelector(".pokemon-list"),c=document.createElement("li");b.classList.add("group-list-item"),b.classList.add("col-sm","col-lg-20");let a=document.createElement("button");a.innerText=e.name,a.classList.add("pokemonButton"),a.setAttribute("data-toggle","modal"),a.setAttribute("data-target","#pokemon-modal"),$(a).addClass("button-class btn-block btn m1"),c.appendChild(a),b.appendChild(c),a.addEventListener("click",function(a){d(e)})},loadList:function(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=151").then(function(a){return a.json()}).then(function(a){a.results.forEach(function(a){b({name:a.name,detailsUrl:a.url})})}).catch(function(a){console.error(a)})},loadDetails:function(a){return fetch(a.detailsUrl).then(function(a){return a.json()}).then(function(b){a.imageUrl=b.sprites.other.dream_world.front_default,a.height=b.height,a.types=b.types.map(a=>a.type.name).join(", "),a.weight=b.weight}).catch(function(a){console.error(a)})},showDetails:d,search:a}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(a){pokemonRepository.addListItem(a)})})